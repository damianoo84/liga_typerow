{% extends 'base.html.twig' %}

{% block content %}
    
    {% if 'now'|date('d-m-Y') <  find_matchday(app.request.get('matchday')).dateFrom|date('d-m-Y') and 'now'|date('d-m-Y') <  find_matchday(app.request.get('matchday')).dateTo|date('d-m-Y') %}
        {% set nextMatchday = true %}
    {% else %}
        {% set nextMatchday = false %}
    {% endif %}
    


    <table class="tab_types">
      <tr class="type_header">
        <th>Mecze/Gracze</th>
        {% for user in get_users() %}
            <th>{{ user }}</th>
        {% endfor %}
      </tr>
        {% for key,type in types %}
        <tr>
            <td class="team_fullname">{{ type.host }} - {{ type.guest }}</td>
            <td class="team_shortname">{{ type.host_shortname }} - {{ type.guest_shortname }}</td>
            {% for tp in type.types %}
                {% if nextMatchday == false and tp != '-' %}
                    <td class="type_type">*</td>
                {% else %}
                    <td class="type_type">{{ tp }}</td> 
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
    
 
    
{% endblock %}

{% block infobar %}
    <div class="list">
        <br />
        <p class="queque_number">Nr. kolejki</p>
    {% for i in 1..15 %}
        <a class="type_matchday_big_screen" href="{{ path('liga_typerow_userstypes', {'matchday' : i}) }}">Kolejka {{ i }}</a> 
        <a class="type_matchday_small_screen" href="{{ path('liga_typerow_userstypes', {'matchday' : i}) }}">{{ i }}</a> 
    {% endfor %} 
    </div>   
{% endblock infobar %}